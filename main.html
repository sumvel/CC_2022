<HTML>
  <HEAD>
    <TITLE>Cricket Carnival 2022</TITLE>
		<link rel="stylesheet" href="./default.css">
		<link rel="stylesheet" href="./w3.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </HEAD>
  <SCRIPT language = "JavaScript">
		
	</SCRIPT>
	<script src="./data.js"></script>
	<script src="./other_functions.js"></script>
	<script src="./data_processing.js"></script>
	<BODY>
		<table  align= "center" border="1" >
			<tr><td align='center'>
				
				<!-- <table><tr>
				<td><input type=button value="Home" name="home" onclick="home_button()"></td>
				<td><input type=button value="Schedule" name="schedule" onclick="schedule_button()"></td>
				<td><input type=button value="Results" name="results" onclick="results_button()"></td>
				<td><input type=button value="Compare" name="compare" onclick="compare_button()"></td>
				<td><input type=button value="IPL Team Stats" name="tstats" onclick="tstats_button()"></td>
				<td><input type=button value="Player Stats" name="pstats" onclick="pstats_button()"></td>
				<td><input type=button value="Predictions" name="predtab" onclick="prediction_button()"></td>
				<td><input type=button value="Semifinals/Finals" name="sftab" onclick="Semi_Final_button()"></td>
				</tr></table> -->
				<div class="w3-topbar">
					<div class="w3-bar w3-theme-d2 w3-left-align">
						<!-- <a class="w3-bar-item w3-button w3-teal" href="MainBoard.html"><i class="fa fa-home w3-margin-right"></i>Home</a> 
						<a class="w3-bar-item w3-button w3-teal" onclick="home_button()" href="#"><i
								class="fa fa-refresh w3-margin-right"></i>Reset</a>-->
						<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="home_button()" href="#">Home</a>
						<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="schedule_button()" href="#">Schedule</a>
						<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="results_button()" href="#">Results</a>				
						<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="compare_button()" href="#">Compare</a>
						<!--<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="tstats_button()" href="#">IPL Team Stats</a>-->
						<!--<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="pstats_button()" href="#">Player Stats</a>-->
						<!--a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="prediction_button()" href="#">Predictions</a-->
						<!--<a class="w3-bar-item w3-button w3-hover-dark-gray" onclick="Semi_Final_button()" href="#">Semifinals/Finals</a> -->
					</div>
				</div>
			</td>
			</tr>
			<tr><td align ='left'><table><tr><td align ='center' valign='top'>
				<!-- ranks table-->	
				<table><tr><td><div id="ranks"></div></td></tr></table>
				</td>
				<td  align ='center' valign='top'>
				<!-- body table-->
					<table align ='center'><tr>
						<td><div id="homediv"></div></td>
						<td><div id="schedulediv"></div></td>
						<td><div id="resultsdiv"></div></td>
						<td><div id="comparediv"></div></td>
						<td><div id="tstatsdiv"></div></td>
						<td><div id="pstatsdiv"></div></td>
						<td><div id="preddiv"></div></td>
						<td><div id="semifinaldiv"></div></td>
					</td></tr></table></tr>
				</table>
				<!-- end of body table-->
			</td></tr>
		</table>
	<!-- end of main table-->
	<SCRIPT language = "JavaScript">
		document.getElementById('schedulediv').style.display = 'none';
		document.getElementById('resultsdiv').style.display = 'none';	
		document.getElementById('comparediv').style.display = 'none';
		document.getElementById('tstatsdiv').style.display = 'none';
		document.getElementById('pstatsdiv').style.display = 'none';
		document.getElementById('preddiv').style.display = 'none';	
		document.getElementById('semifinaldiv').style.display = 'none';	
	
	/*=======================*\
			Ranks
	\*=======================*/
	/*divran ="<table border='0' cellspacing='2'><tr bgcolor='00FFE0'><th align='center'>Rank</th><th align='center'>Player</th><th align='center'>Score</th></tr>";
	for(j=0;j<players;j++)
	{
		if(j%2 != 0)
			divran = divran + "<tr bgcolor='#D8D8D8'>";
		else
			divran = divran + "<tr bgcolor='#F8F8F8'>";
		divran = divran + "<td align ='center'>";
		if(j!=0 && player_score_ranks[j] == player_score_ranks[j-1])
			divran = divran +"&nbsp";
		else
			divran = divran + player_ranks_ranks[j];
	
		divran = divran + "</td><td>" + player_list_ranks[j]+"</td><td align='center'>"+player_score_ranks[j] +"</td></tr>";  // .toUpperCase() 
	}
	divran = divran +"</table>";
	document.getElementById('ranks').innerHTML= divran;*/

	divran = "";
	divran = "<select id = 'sel_steam' size ='1' onchange = 'sel_steam()'><option value='ALL'>SHOW ALL GROUPS</option>";
	for (i=0; i<steam_cnt; i++)
		divran = divran + "<option value='" + steam_short[i] + "'>" + steam[i] + "</option>";
	divran = divran + "</select><div id='ranks_tab_div'></div>";
	document.getElementById('ranks').innerHTML= divran;
	sel_steam();


	/*=======================*\
		Schedule
	\*=======================*/
	divsch ="";
	divsch = "<select id = 'select_team' size ='1' onchange = 'sel_team()'><option value='ALL'>-----SHOW ALL TEAMS-----</option>";
	for (i=0; i<teams; i++)
		divsch = divsch + "<option value='" + teams_list_st[i] + "'>" + teams_list[i] + "</option>";
	divsch = divsch + "</select>";
	divsch = divsch +"<table id='tab_sch' align='center' border='1'><tr bgcolor='00FFE0'><th align='center'>#</th><th align='center'>Date</th><th  align='center' colspan='2'>Team A</th><th align='center' colspan='2'>Team B</th></tr>";
	for(i=match_result.length;i<matches;i++)
	{
		j = i+1;
		divsch = divsch +"<tr><td align='center'>"+j+"</td><td align='center'>&nbsp;"+dat[i] +"&nbsp;</td><td align='center'>"+teams_list[teams_list_st.indexOf(team1[i])];
		if(team1_bets[i]>=team2_bets[i])
			divsch = divsch + "</td><td align='center' bgcolor='gold'>" + team1_bets[i] + "</td><td align='center'>"+teams_list[teams_list_st.indexOf(team2[i])];
		else
			divsch = divsch + "</td><td align='center'>" + team1_bets[i] + "</td><td align='center'>"+teams_list[teams_list_st.indexOf(team2[i])];
		if(team1_bets[i]<=team2_bets[i])
			divsch = divsch + "</td><td align='center' bgcolor='gold'>"+team2_bets[i]+"</td></tr>";
		else
			divsch = divsch + "</td><td align='center'>"+team2_bets[i]+"</td></tr>";
	}
	divsch = divsch + "</table>";
	document.getElementById('schedulediv').innerHTML= divsch;

	
	/*=======================*\
			Result
	\*=======================*/
	divres = "<select id = 'result_team' size ='1' onchange = 'res_team()' ><option value='ALL'>-----SHOW ALL TEAMS-----</option>";
	for (i=0; i<teams; i++)
		divres = divres + "<option value='" + teams_list_st[i] + "'>" + teams_list[i] + "</option>";
	divres = divres + "</select>";
	divres = divres +"<table id='tab_res' align='center' border='1'><tr bgcolor='00FFE0'><th align='center'>#</th><th align='center'>Date</th><th  align='center' colspan='2'>Team A</th><th align='center' colspan='2'>Team B</th></tr>";
	for(i=0;i<match_result.length;i++)
	{
		divres = divres + "<tr><td align='center'>" + (i+1) + "</td><td align='center'>&nbsp;" + dat[i] + "&nbsp;</td>";
		if(match_result[i] == team1[i])
			divres = divres + "<td align='center' bgcolor='Lime'>"+ teams_list[teams_list_st.indexOf(team1[i])]; 
		else
			divres = divres + "<td align='center'>"+ teams_list[teams_list_st.indexOf(team1[i])];
		if(team1_bets[i]>=team2_bets[i])
			divres = divres + "</td><td align='center' bgcolor='gold'>" + team1_bets[i] + "</td>";
		else
			divres = divres + "</td><td align='center'>" + team1_bets[i] + "</td>";
		if(match_result[i] == team2[i])
			divres = divres + "<td align='center' bgcolor='Lime'>"+ teams_list[teams_list_st.indexOf(team2[i])];
		else
			divres = divres + "<td align='center'>"+ teams_list[teams_list_st.indexOf(team2[i])];
		if(team1_bets[i]<=team2_bets[i])
			divres = divres + "</td><td align='center' bgcolor='gold'>" + team2_bets[i] + "</td></tr>";
		else
			divres = divres + "</td><td align='center'>" + team2_bets[i] + "</td></tr>";
	}
	divres = divres + "</table>";
	document.getElementById('resultsdiv').innerHTML= divres;

	/*=======================*\
			Compare
	\*=======================*/
	var player_list_asc = new Array();
	for(i=0;i<players;i++)
		player_list_asc[i] = player_list[i];
	sort_index(player_list_asc, 0, players);
	divcom = "<table align='center'><tr><th colspan='3'>Select players to compare their selections</th></tr>";
	divcom = divcom + "<tr><td><select id = 'player_drop1' size ='1' onchange = 'player_info()'>";
	divcom = divcom +"<option value='default'>&nbsp</option>";
	for(i=0;i<players;i++)
		divcom = divcom +"<option value='" + player_list_asc[i] + "'>" + player_list_asc[i] + "</option>"; // .toUpperCase() 
	divcom = divcom + "</select></td><td><select id = 'player_drop2' size ='1' onchange = 'player_info()'>";
	divcom = divcom +"<option value='default'>&nbsp</option>";
	for(i=0;i<players;i++)
		divcom = divcom +"<option value='" + player_list_asc[i] + "'>" + player_list_asc[i] + "</option>";// .toUpperCase() 
	divcom = divcom + "</select></td><td><select id = 'player_drop3' size ='1' onchange = 'player_info()'>";
	divcom = divcom +"<option value='default'>&nbsp</option>";
	for(i=0;i<players;i++)
		divcom = divcom +"<option value='" + player_list_asc[i] + "'>" + player_list_asc[i] + "</option>";// .toUpperCase() 
	divcom = divcom +"</select></td></tr></table><br><div id='comtable'>";
	document.getElementById('comparediv').innerHTML= divcom;
	player_info();

	/*=======================*\
			Team Stats
	\*=======================*/
	divsas = "<h3>Points</h3><table border='0'><tr bgcolor='00FFE0'><th align='center'>IPL Team</th><th align='center'>Played</th><th align='center'>Won</th><th align='center'>Lost</th><th align='center'>Points</th></tr>";
	// var tem_play = new Array();
	// var tem_won = new Array();
	// var tem_won1 = new Array();
	// var tem_pts = new Array();
	// var supps1 = new Array();
	// var supps2 = new Array();
	// var supps3 = new Array();
	// var supps = new Array();
	// var new_teams_list = new Array();
	// var new_teams_list1 = new Array();
	// for(i=0;i<teams;i++)
	// {
	// 	tem_play[i] = 0;
	// 	tem_won[i] = 0;
	// 	tem_pts[i] = 0;
	// 	supps1[i] = 0;
	// 	supps2[i] = 0;
	// 	supps3[i] = 0;
	// 	supps[i] = 0;
	// 	new_teams_list[i] = teams_list[i];
	// 	new_teams_list1[i] = teams_list[i];
	// 	for(j=0;j<match_result.length;j++)
	// 	{
	// 		if(team1[j] == teams_list_st[i] || team2[j] == teams_list_st[i])
	// 			tem_play[i]++;
	// 		if(match_result[j] == teams_list_st[i])
	// 		{
	// 			tem_won[i]++;
	// 			tem_pts[i] = tem_pts[i] +2;
	// 		}
	// 		else if(match_result[j] == 12)
	// 			if(team1[j] == teams_list_st[i] || team2[j] == teams_list_st[i])
	// 			tem_pts[i]++;
	// 	}
	// 	tem_won1[i] = tem_won[i];
	// 	for(j=0;j<players;j++){
	// 		for(k=0;k<r1_end;k++)
	// 			if(picks[j].pick[k] == teams_list_st[i])
	// 				supps1[i]++;
	// 		for(k=r1_end;k<r2_end;k++)
	// 			if(picks[j].pick[k] == teams_list_st[i])
	// 				supps2[i]++;
	// 		for(k=r2_end;k<r3_end;k++)
	// 			if(picks[j].pick[k] == teams_list_st[i])
	// 				supps3[i]++;}
	// 	supps[i]=supps1[i]+supps2[i]+supps3[i];
	// }
	// sort_value(new_teams_list, 0, tem_won.length-1, tem_pts);
	for(i=0;i<new_teams_list.length;i++)
	{
		if(i%2 != 0)
			divsas = divsas + "<tr bgcolor='#D8D8D8'>";
		else
			divsas = divsas + "<tr bgcolor='#F8F8F8'>";
		divsas = divsas + "<td align='left'>"+ new_teams_list[i] + "</td><td align='center'>";
		for(j=0;j<teams;j++)
			if(new_teams_list[i] == teams_list[j])
				divsas = divsas + tem_play[j] +"</td><td align='center'>" + tem_won1[j] +"</td><td align='center'>" + (tem_play[j] - tem_won1[j]) +"</td><td align='center'>" + tem_pts[i] +"</td></tr>";
				//divsas = divsas + tem_play[j] +"</td><td align='center'>" + tem_won1[i] +"</td><td align='center'>" + (tem_play[j] - tem_won1[i]) +"</td><td align='center'>" + (tem_won1[i]*2) +"</td></tr>";
				//divsas = divsas + tem_play[j] +"</td><td align='center'>" + tem_won[i] +"</td><td align='center'>" + (tem_play[j] - tem_won[i]) +"</td><td align='center'>" + (tem_won[i]*2) +"</td><td align='center'>" + supps[j] +"</td></tr>";
	}
	divsas = divsas + "</table><h3>Supports</h3><table border='0'><tr bgcolor='00FFE0'><th align='center'>IPL Team</th><th align='center'>Round 1</th>";
	if(r2_end > r1_end)
		divsas = divsas + "<th align='center'>Round 2</th>";
	if(r3_end > r2_end)
		divsas = divsas + "<th align='center'>Round 2</th>";
	divsas = divsas + "<th align='center'>Total</th></tr>";
	sort_value(new_teams_list1, 0, supps.length-1, supps);
	for(i=0;i<new_teams_list.length;i++)
	{
		if(i%2 != 0)
			divsas = divsas + "<tr bgcolor='#D8D8D8'>";
		else
			divsas = divsas + "<tr bgcolor='#F8F8F8'>";
		divsas = divsas + "<td align='left'>"+ new_teams_list1[i] + "</td><td align='center'>";
		for(j=0;j<teams;j++)
			if(new_teams_list1[i] == teams_list[j])
			{
				divsas = divsas + supps1[j] +"</td>";
				if(r2_end > r1_end)
					divsas = divsas + "<td align='center'>" + supps2[j] +"</td>";
				if(r3_end > r2_end)
					divsas = divsas + "<td align='center'>" + supps3[j] +"</td>";
				divsas = divsas + "<td align='center'>" + supps[i] +"</td></tr>";
				//divsas = divsas + tem_play[j] +"</td><td align='center'>" + tem_won[i] +"</td><td align='center'>" + (tem_play[j] - tem_won[i]) +"</td><td align='center'>" + (tem_won[i]*2) +"</td><td align='center'>" + supps[j] +"</td></tr>";
			}
	}
	divsas = divsas + "</table>";
	document.getElementById('tstatsdiv').innerHTML= divsas;


	/*=======================*\
			Player Stats
	\*=======================*/
	divpsas = "<table align='center'><tr><th align ='left' colspan='3'>Select a player to view their stats</th></tr>";
	divpsas = divpsas + "<tr><td><select id = 'player_drop' size ='1' onchange = 'player_stats()'>";
	divpsas = divpsas +"<option value='default'>&nbsp</option>";
	for(i=0;i<players;i++)
		divpsas = divpsas +"<option value='" + player_list_asc[i] + "'>" + player_list_asc[i] + "</option>";// .toUpperCase() 
	divpsas = divpsas +"</select></td></tr><tr><td><div id='ply_table'></div></td></tr></table>";
	document.getElementById('pstatsdiv').innerHTML= divpsas;

	/*=======================*\
			Predictions
	\*=======================*/
	// var q = match_result.length; 
	// nex_scor = 1;
	// if(q>r1_end)
	// 	nex_scor = 2;
	// if(q>r2_end)
	// 	nex_scor = 3;
	// for(i=0;i<players;i++)
	// {
	// 	if(picks[i].pick[q] == team1[q])
	// 		score_prad1[i] = score_prad1[i] +nex_scor;
	// 	else if(picks[i].pick[q] == team2[q])
	// 		score_prad2[i] = score_prad2[i] +nex_scor;
	// }
	// sort_value(list_prad1, 0, players-1, score_prad1);
	// sort_value(list_prad2, 0, players-1, score_prad2);

	divpre = "<a align = 'center'>Predictions after Match "+(q+1)+"</a>";
	divpre = divpre +"<table><tr><td><table border='0' cellspacing='2'><tr bgcolor='silver'><td align ='center' colspan='3'>If "+teams_list[teams_list_st.indexOf(team1[q])]+" wins</td></tr><tr bgcolor='00FFE0'><th align='center'>Rank</th><th align='center'>Player</th><th align='center'>Score</th></tr>";
	for(j=0;j<players;j++)
	{
		if(j%2 != 0)
			divpre = divpre + "<tr bgcolor='#D8D8D8'>";
		else
			divpre = divpre + "<tr bgcolor='#F8F8F8'>";
		divpre = divpre + "<td align ='center'>";
		if(j!=0 && score_prad1[j] == score_prad1[j-1])
			divpre = divpre +"&nbsp";
		else
			divpre = divpre + (j+1);
		divpre = divpre + "</td><td>" + list_prad1[j] +"</td><td align='center'>"+score_prad1[j] +"</td></tr>";// .toUpperCase() 
	}
	divpre = divpre +"</table></td><td><table border='0' cellspacing='2'><tr bgcolor='silver'><td align ='center' colspan='3'>If "+teams_list[teams_list_st.indexOf(team2[q])]+" wins</td></tr><tr bgcolor='00FFE0'><th align='center'>Rank</th><th align='center'>Player</th><th align='center'>Score</th></tr>";
	for(j=0;j<players;j++)
	{
		if(j%2 != 0)
			divpre = divpre + "<tr bgcolor='#D8D8D8'>";
		else
			divpre = divpre + "<tr bgcolor='#F8F8F8'>";
		divpre = divpre + "<td align ='center'>";
		if(j!=0 && score_prad2[j] == score_prad2[j-1])
			divpre = divpre +"&nbsp";
		else
			divpre = divpre + (j+1);
		divpre = divpre + "</td><td>" + list_prad2[j] +"</td><td align='center'>"+score_prad2[j] +"</td></tr>";// .toUpperCase() 
	}
	divpre = divpre +"</table></td></tr></table>";
	document.getElementById('preddiv').innerHTML= divpre;

		
	/*=======================*\
			Home
	\*=======================*/
	divhome = "<table><tr align='center' valign='top'><td valign='top'><select id = 'match_id' size ='1' onchange = 'match_info()'>";
	divhome = divhome +"<option value='default'>Select a match</option>";
	for(i=0;i<matches;i++)
		divhome = divhome +"<option value='" + (i+1) + "'>Match " + (i+1) + "</option>";
	divhome = divhome +"</select></td></tr><tr><td><div id='mat_table'></div></td></tr></table>";
	/*divhome = divhome +"<table><tr><td><font color = 'white'>past_score["+(match_result.length-1)+"].val = new Array("+player_score.toString()+ ");<br>";
	divhome = divhome +"past_rank["+(match_result.length-1)+"].val = new Array("+ player_ranks.toString()+");<font></td></tr></table>";*/
	/*
	document.write("past_score["+(match_result.length-1)+"].val = new Array("+player_score.toString()+ ");<br>");
	document.write("past_rank["+(match_result.length-1)+"].val = new Array("+ player_ranks.toString()+");");
	*/

	document.getElementById('homediv').innerHTML= divhome;
	match_info();

	</script>	
	</BODY>
</HTML>
